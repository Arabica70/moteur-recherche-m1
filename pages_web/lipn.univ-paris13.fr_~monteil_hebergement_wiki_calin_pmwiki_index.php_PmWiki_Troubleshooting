<!DOCTYPE html 
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
  <title>Wiki temporaire Équipe Calin | PmWiki / Troubleshooting </title>
  <meta http-equiv='Content-Style-Type' content='text/css' />
  <link rel='stylesheet' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/pub//skins/pmwiki/pmwiki.css' type='text/css' />
  <!--HTMLHeader--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
  .rtl, .rtl * {direction:rtl; unicode-bidi:bidi-override;}
  .ltr, .ltr * {direction:ltr; unicode-bidi:bidi-override;}
  .rtl .indent, .rtl.indent, .rtl .outdent, .rtl.outdent {
    margin-left:0; margin-right: 40px;
  }
  
table th.prompt { text-align: right; vertical-align: top; font-size: smaller; 
	width:20%; color: #333333;
}
table th.divide { text-align:left; padding-top:0.75em; }
table td.note { font-size: smaller; color: #333333; padding-bottom:1.0em; }
span.prompt { cursor: help; }
td textarea { font-size: smaller; }
table.wikilist { font-size: smaller; 
    border: 1px solid #600;
    border-collapse: collapse;
}
table.wikilist th { background-color: #eeeeee; padding: 2px; 
    border: 1px dotted #600;
}
table.wikilist td { vertical-align: top; padding: 2px; 
    border: 1px dotted #600;
}
p.question { margin-top: 2.0em; }
p.question:first-letter {
    float: left;
    font-family: Old English, Georgia, serif;
    color: #777777;
    font-size: 200%;
    line-height: 1.0em;
    margin-right: 0.2em;
}li.browse b { font-weight: normal; }.editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
  td.markup1 pre { white-space: pre-wrap; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none;}

--></style><meta http-equiv='Content-Type' content='text/html; charset=utf-8' /><script type="text/javascript" src="https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/pub/MathJax/MathJax.js">MathJax.Hub.Config({
    extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: { inlineMath: [ ['{\$','\$}'] ], displayMath: [ ['{\$\$','\$\$}'] ] } });</script><link rel='stylesheet' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/pub//css/markup.css' type='text/css' />
  <meta name='robots' content='noindex,nofollow' />

</head>
<body>
<!--PageHeaderFmt-->
  <div id='wikilogo'><a href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php'><img src='http://example.com/mylogo.gif'
    alt='Wiki temporaire Équipe Calin' border='0' /></a></div>
  <div id='wikihead'>
  <form action='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php'>
    <span class='headnav'><a href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/RecentChanges'
      accesskey='c'>Recent Changes</a> -</span>
    <input type='hidden' name='n' value='PmWiki.Troubleshooting' />
    <input type='hidden' name='action' value='search' />
    <a href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/Site/Search'>Search</a>:
    <input type='text' name='q' value='' class='inputbox searchbox' />
    <input type='submit' class='inputbutton searchbutton'
      value='Go' /></form></div>
<!--/PageHeaderFmt-->
  <table id='wikimid' width='100%' cellspacing='0' cellpadding='0'><tr>
<!--PageLeftFmt-->
      <td id='wikileft' valign='top'>
        <ul><li><a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/%c3%89quipeCalin/%c3%89quipeCalin'>ÉquipeCalin</a>
</li><li><a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/S%c3%a9minaire/S%c3%a9minaire'>Séminaire</a>
</li><li><a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/%c3%89valuation2017/%c3%89valuation2017'>Évaluation2017</a>
</li><li><a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/FalseBeliefs/FalseBeliefs'>False Beliefs</a>
</li><li><a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/Tilings/Tilings'>Tilings</a>
</li><li><a class='createlinktext' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/Site/HardBalls?action=edit' title='Create page'>Hard Balls</a><a class='createlink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/Site/HardBalls?action=edit'>?</a>
</li></ul><p class='vspace'  style='text-align: right;'> <span style='font-size:83%'><a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/Site/SideBar?action=edit'>edit SideBar</a></span>
</p>
</td>
<!--/PageLeftFmt-->
      <td id='wikibody' valign='top'>
<!--PageActionFmt-->
        <div id='wikicmds'><ul><li class='browse'>      <b class='selflink'>View</b>
</li><li class='edit'>      <a accesskey='e'  rel='nofollow'  class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/Troubleshooting?action=edit'>Edit</a>
</li><li class='diff'>   <a accesskey='h'  rel='nofollow'  class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/Troubleshooting?action=diff'>History</a>
</li><li class='print'>     <a accesskey=''  rel='nofollow'  class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/Troubleshooting?action=print'>Print</a>
</li><li class='backlinks'> <a accesskey=''  rel='nofollow'  class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/Troubleshooting?action=search&amp;q=link=PmWiki.Troubleshooting'>Backlinks</a>
</li></ul>
</div>
<!--PageTitleFmt-->
        <div id='wikititle'>
          <div class='pagegroup'><a href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki'>PmWiki</a> /</div>
          <h1 class='pagetitle'>Troubleshooting</h1></div>
<!--PageText-->
<div id='wikitext'>
<p>
<a name='trailstart' id='trailstart'></a> 
</p><div style='clear:right; float:right; font-size:smaller; background-color:#eee;' >
<p><span class='wikitrail'>&larr; <a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/FAQ'>Frequently answered questions</a> | <a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/DocumentationIndex#trailstart' title="trailstart#trailend">Documentation Index</a> | <a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/AvailableActions'>Available actions</a> &rarr;</span> 
</p></div>
<div style='clear:right;' ><span class='frame rfloat' style='font-size: smaller; background-color: #ffffcc; clear: right;'>administrators </span>
</div>
<p class='vspace'>PmWiki is pretty robust and can automatically adapt to a very wide variety of environments.  
However, sometimes things don&rsquo;t go as we expect, so we&rsquo;re cataloging common errors and their fixes here.
</p>
<div class='vspace'></div><h2>Troubleshooting Frequently Asked Questions</h2>
<div class='indent'><span  style='font-style: italic; color: green;'> Note: This page on pmwiki.org is probably not the best place to post questions.  Consider <a style='color: green' class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/HowToGetAssistance' rel='nofollow'>seeking assistance</a> from the pmwiki-users <a style='color: green' class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/MailingLists'>mailing list</a>, or post your question on the <a style='color: green' class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/Questions' rel='nofollow'>PmWiki:Questions</a> page.</span>
</div><div class='vspace'></div><div class='faq' > <a name='faq' id='faq'></a> 
<p class='vspace'><a name='create_function' id='create_function'></a>
</p><p class='question'>Q My wiki displays warnings &ldquo;Deprecated: Function create_function() is deprecated&rdquo;.</p>
<p class='vspace'> PHP version 7.2 deprecated a function which PmWiki used for markup definitions and pattern replacements. It is recommended to <a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/Upgrades'>upgrade</a> to the latest PmWiki version and update all addons and skins from the <a class='createlinktext' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/Cookbook/Cookbook?action=edit' title='Create page'>Cookbook</a><a class='createlink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/Cookbook/Cookbook?action=edit'>?</a>. Addons in the <a class='createlinktext' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/Category/PHP72?action=edit' title='Create page'>PHP72</a><a class='createlink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/Category/PHP72?action=edit'>?</a> category are reported to be compatible with PHP 7.2. If you need a specific addon that has not yet been updated please contact us. To update your own addons, you probably need to update your calls to Markup(), see the pages <a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/CustomMarkup'>Custom markup</a>, <a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/Functions'>Functions</a> and <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/CustomPagelistSortOrder' rel='nofollow'>CustomPagelistSortOrder</a>.
</p>
<p class='vspace'> How to track down the addons that cause the warnings, see the <a href='#deprecated'>next section</a>.
</p>
<p class='vspace question'>Q <a name='deprecated' id='deprecated'></a> <a name='preg_replace' id='preg_replace'></a> My wiki displays warnings &ldquo;Deprecated: preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead&rdquo;.</p>
<p> This is caused by a change in PHP version 5.5 for the <a class='urllink' href='http://php.net/preg_replace' rel='nofollow'>preg_replace()</a> function. PmWiki no longer relies on the deprecated feature since version 2.2.56 (it is recommended to upgrade to the latest version) but many recipes do. Note that even if the warning points to a line in pmwiki.php, the problem comes from a local configuration or recipe.
</p>
<p class='vspace'> Recipes and Skins are currently being updated for PHP 5.5. Check if there are more recent versions published by their maintainers on the <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/Cookbook' rel='nofollow'>Cookbook</a>. If you update your PmWiki and recipes, and still see the warnings, here is how to find out which recipes cause them:
</p>
<p class='vspace'> For PmWiki version 2.2.71 or newer, in config.php, enable diagnostic tools: <br /><code><a class='varlink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/DebugVariables#EnableDiag'><code class='varlink'>&#036;EnableDiag</code></a> = 1;</code><br />Then visit your wiki with the action &lsquo;ruleset&rsquo;, for example <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/PmWiki?action=ruleset' rel='nofollow'>http://www.pmwiki.org/wiki/PmWiki/PmWiki?action=ruleset</a> or follow a link like <code class='escaped'>[[HomePage?action=ruleset]]</code>. This page will list all markup rules; those potentially incompatible with PHP 5.5 will be flagged with filenames, line numbers and search patterns triggering the warning.
</p>
<p class='vspace'> If the ?action=ruleset page shows no flagged rules, it is possible that either your recipes call the preg_replace() function directly, or they define various search-replace patterns in incompatible ways. In these cases, your warning should display the file name and line number causing problems, if not, here is how to track it. In config.php disable all recipes: included files from the cookbook directory, or a custom skin, or any line containing &ldquo;Patterns&rdquo;. You can insert # at the beginning of a line to disable it. Then test the wiki: if you have disabled everything, the warning message should disappear.
</p>
<p class='vspace'> Next, re-enable your customizations one after another, every time testing the wiki. If at some point the warnings re-appear, you&rsquo;ll know that the customization you just enabled is not compatible with PHP 5.5.
</p>
<p class='vspace'> You can contact the authors of the broken recipes and (kindly) ask them to update their recipes for PHP 5.5 - recent PmWiki versions add new helper functions which make it easy, see <a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/CustomMarkup'>CustomMarkup</a>. If you cannot have the recipes fixed by their authors, <a class='urllink' href='http://www.pmwiki.org/wiki/PITS/01319' rel='nofollow'>tell us</a> and we&rsquo;ll try to fix them.
</p>
<p class='vspace'> Note that many hosting providers allow you to run different versions of PHP. See the documentation of your hosting plan to learn how to enable a PHP version earlier than 5.5.
</p>
<p class='vspace'> Finally, it is possible to suppress these warnings in PHP 5.5, by setting this line at the beginning of config.php: <br /><code>error_reporting(E_ALL &amp; ~E_NOTICE &amp; ~E_DEPRECATED);</code><br />This should be a temporary solution, left only until your recipes are fixed.
</p>
<p class='vspace'><a name='crypt' id='crypt'></a>
</p><p class='question'>Q My wiki displays warnings &ldquo;PHP Deprecated: crypt(): Supplied salt is not valid for DES. Possible bug in provided salt format&rdquo;.</p>
<p> You probably have configuration settings that worked on older PHP versions. Here is how to hunt and try to fix this.
</p>
<p class='vspace'> In your (farm)config.php or other local or cookbook files, any call to <code>crypt</code> can be replaced with <code>pmcrypt</code>, eg <br /><code>{$DefaultPasswords['edit'] = crypt("my_password");@@ # %red%DEPRECATED%%<br />@@$}DefaultPasswords[&lsquo;edit&rsquo;] = <strong>pmcrypt</strong>(&ldquo;my_password&rdquo;);</code> # <span  style='color: green;'>OK</span><br /><code><a class='varlink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/SecurityVariables#DefaultPasswords'><code class='varlink'>&#036;DefaultPasswords</code></a>[&lsquo;edit&rsquo;] = array(<strong>pmcrypt</strong>(&ldquo;pass1&rdquo;), <strong>pmcrypt</strong>(&ldquo;pass2&rdquo;));</code> # <span  style='color: green;'>OK</span>
</p>
<p class='vspace'> Additionally, if there are locked passwords with a star <code>*</code>, you should replace those with <code class='escaped'>@lock</code>: <br /><code>{$DefaultPasswords['edit'] = '*';@@ # %red%DEPRECATED%%<br />@@$}DefaultPasswords[&lsquo;edit&rsquo;] = &lsquo;@lock&rsquo;;</code> # <span  style='color: green;'>OK</span> (and no pmcrypt)
</p>
<p class='vspace'> The <a class='varlink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/SecurityVariables#DefaultPasswords'><code class='varlink'>&#036;DefaultPasswords</code></a> variables usually have keys like &lsquo;edit&rsquo;, &lsquo;attr&rsquo;, &lsquo;read&rsquo;, &lsquo;upload&rsquo;, &lsquo;publish&rsquo;.
</p>
<p class='vspace'> Some of your page files may still have the old star <code>*</code> locking. Files that in the past shipped with the star lock were Site.GroupAttributes, SiteAdmin.GroupAttributes, Site.AuthUser and/or PmWiki.GroupAttributes in the directories wikilib.d and/or wiki.d. You need to edit them in a text editor and replace any line among these:<br /><code>passwdedit=*</code><br /><code>passwdattr=*</code><br /><code>passwdread=*</code><br /><code>passwdpublish=*</code><br /><code>passwdupload=*</code>
</p>
<p class='vspace'>Edit the file and replace the star <code>*</code> with the word <code class='escaped'>@lock</code> on every existing line. <em>Do not add these lines if they are not already in the file, and do not change the lines if there is something other than a single star after the = equals sign</em>. Save the file, upload it back to your wiki and the warnings should disappear. (If you run a wiki farm, you may have such files in several <code>wiki.d</code> directories.)
</p>
<p class='vspace'><a name='blank_sections' id='blank_sections'></a>
</p><p class='question'>Q After a PHP upgrade, some of the pages on my wiki are completely blank, empty, some have blank or missing sections, but the sidebar and the action links are visible.</p>
<p> This can be caused by a change in PHP 5.4 which affects the function <code>htmlspecialchars()</code>.
</p>
<p class='vspace'> The easiest temporary fix would be in your <code>php.ini</code>, or in <code>.user.ini</code> to change the <code>default_charset</code> directive to an 8-bit charset, for example cp1252:
</p>
<div class='vspace'></div><pre>   default_charset = &ldquo;Windows-1252&rdquo;
</pre><p class='vspace'> Or, this may sometimes work in <code>pmwiki/local/config.php</code>:
</p>
<div class='vspace'></div><pre>   ini_set(&ldquo;default_charset&rdquo;, &ldquo;Windows-1252&rdquo;);
</pre><p class='vspace'> A more permanent fix would be to <a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/Upgrades'>upgrade</a> your installation to a more recent PmWiki version, your recipes, and in your own recipes or modules replace all calls to <code>htmlspecialchars()</code> with <code>PHSC()</code>, a PmWiki helper function for such cases.
</p>
<p class='vspace'> The &ldquo;blank&rdquo; pages come from the fact that in PHP 5.4 the default encoding switched from an 8-bit encoding to variable-bit validated UTF-8, and that an incorrect UTF-8 string will be rejected. If your wiki uses an 8-bit encoding, it is virtually certain that it is not valid UTF-8. Worse, even if you do use UTF-8 some browsers may submit invalid bits. So the <a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/Functions#PHSC' title=" PHSC($string_or_array, local/localmap.txtlags=ENT_COMPAT, $encoding=null, $&hellip;">PHSC() function</a> always pretends that it converts an 8-bit encoding where all bits are allowed.
</p>
<p class='vspace question'>Q Why am I seeing strange errors after <a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/Upgrades'>upgrading</a>?</p>
<p> Make sure all of the files were updated, in particular <code>pmwiki.php</code> and all files in the <code>scripts/</code> directory.
</p>
<p class='vspace'> This question sometimes arises when an administrator hasn&rsquo;t
followed the advice, which used to be less prominent, on the
<a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/Installation#notes' title=" Notes">installation</a> and
<a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/InitialSetupTasks#dontmodify' title="Don't modify or rename pmwiki.php">initial setup tasks</a> pages and has renamed
<em>pmwiki.php</em> instead of creating an <em>index.php</em> wrapper script.
If you have renamed <em>pmwiki.php</em> to <em>index.php</em>, then the upgrade procedure
won&rsquo;t have updated your <em>index.php</em> file.  Delete the old version and
create a wrapper script so it won&rsquo;t happen again.
</p>
<p class='vspace'> Sometimes an FTP or other copy program will fail to transfer all of the
files properly.  One way to check for this is by comparing file sizes.
</p>
<p class='vspace'> Be sure all of the files in the <em>wikilib.d/</em> directory
were also upgraded.  Sometimes it&rsquo;s a good idea to simply delete the <em>wikilib.d/</em>
directory before upgrading.  (Local copies of pages are stored in <em>wiki.d/</em> and not <em>wikilib.d/</em>.)
</p>
<p class='vspace'> Make sure that the <a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/FilePermissions'>file permissions</a> are correct.  The official files have a restricted set of permissions that might not match your site&rsquo;s needs.
</p>
<p class='vspace'> If you use a custom pattern for {$GroupPattern make sure that it includes Site ($}SiteGroup) and since PMWiki 2.2 also SiteAdmin (<a class='varlink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/BasicVariables#SiteAdminGroup'><code class='varlink'>&#036;SiteAdminGroup</code></a>).
Otherwise migration may fail (e.g. missing SiteAdmin for PMWiki 2.2 and later) and/or login does not work.<br />Additionally Main (<a class='varlink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/BasicVariables#DefaultGroup'><code class='varlink'>&#036;DefaultGroup</code></a>) should be included too.
</p>
<p class='vspace'><a name='flock' id='flock'></a>
</p><p class='question'>Q I&rsquo;m suddenly getting messages like &ldquo;<code>Warning: fopen(wiki.d/.flock): failed to open stream: Permission denied&hellip;</code>&rdquo; and &ldquo;<code>Cannot acquire lockfile</code>&rdquo;&hellip; what&rsquo;s wrong?</p>
<p class='vspace'> Something (or someone) has changed the <a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/FilePermissions'>permissions</a> on the <em>wiki.d/.flock</em> file or the <em>wiki.d/</em> directory such that the webserver is no longer able to write the lockfile.  The normal solution is to simply delete the <em>.flock</em> file from the <em>wiki.d/</em> directory  &mdash; PmWiki will then create a new one.  Also be sure to check the permissions on the <em>wiki.d/</em> directory itself. (One can easily check and modify permissions of the <em>wiki.d/</em> directory in <a target='_blank'  class='urllink' href='http://filezilla-project.org/' rel='nofollow'>FileZilla</a> (open-source FTP app) by right-clicking on the file &gt; File attributes)
</p>
<p class='vspace'><a name='sidebar' id='sidebar'></a>
</p><p class='question'>Q My links in the sidebar seem to be pointing to non-existent pages, even though I know I created the pages.  Where are the pages?</p>
<p class='vspace'> Links in the sidebar normally need to be qualified by a <a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/WikiGroup'>WikiGroup</a> in order to work properly (use [[Group.Page]] instead of [[Page]]).<br />Also: Make sure you type Side<strong>B</strong>ar with a capital B.
</p>
<p class='vspace'><a name='headers' id='headers'></a>
</p><p class='question'>Q Why am I seeing &ldquo;<code>PHP Warning: Cannot modify header information - headers already sent by &hellip;</code>&rdquo; messages at the top of my page.</p>
<p class='vspace'> If this is the first or only error message you&rsquo;re seeing, it&rsquo;s usually an indication that there are blank lines, spaces, or other characters before the <code class='escaped'>&lt;?php</code> or after the <code class='escaped'>?&gt;</code> in a <a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/LocalCustomizations'>local customization</a> files such as <code>config.php</code>.  Double-check the file and make sure there is nothing before the initial <code class='escaped'>&lt;?php</code>.  It&rsquo;s often easiest and safest to eliminate any closing <code class='escaped'>?&gt;</code> altogether.  On Windows, it may be, but shouldn&rsquo;t be, necessary to use a hex editor to convert LFCR line endings to LF line endings in the <code>local\config.php</code> file.
</p>
<p class='vspace'> When you save the file, the encoding/charset should be either cp1252/Windows1252 or UTF-8 without Byte Order Mark. <a class='urllink' href='https://notepad-plus-plus.org/' rel='nofollow'>NotePad++</a> is an editor that can do this.
</p>
<p class='vspace'> When you transfer the files, tell your FTP manager to use text mode transfer, or, if that doesn&rsquo;t help, binary mode transfer.
</p>
<p class='vspace'> If the warning is appearing after some other warning or error message, then resolve the other error and this warning may go away.
</p>
<p class='vspace'><a name='session_write_close_error' id='session_write_close_error'></a>
</p><p class='question'>Q How do I make a PHP Warning about <code>function.session-write-close</code> go away?</p>
<p class='vspace'> If you are seeing an error similar to this
</p>
<div class='vspace'></div><div class='indent'><pre class='escaped'>
Warning: session_write_close() [function.session-write-close]:
open(/some/filesystem/path/to/a/directory/sess_[...]) failed: No such file
or directory (2) in /your/filesystem/path/to/pmwiki.php on line NNN
</pre>
</div><p class='vspace'>PmWiki sometimes does session-tracking using PHP&rsquo;s
<a class='urllink' href='http://php.net/session' rel='nofollow'>session-handling functions</a>.
For session-tracking to work, some information needs to be written
in a directory on the server.  That directory needs to exist and
be writable by the webserver software.  For this example, the
webserver software is configured to write sessions in this
directory
</p>
<div class='vspace'></div><div class='indent'><code class='escaped'>/some/filesystem/path/to/a/directory/</code>
</div><p class='vspace'>but the directory doesn&rsquo;t exist.  The solution is to do at least one
of these:
</p><ul><li><strong>Create the directory</strong> and make sure it&rsquo;s writable by the webserver software
</li><li>Provide a session_save_path value that points to a directory that is writable by the server, e.g. in config.php:
</li></ul><div class='vspace'></div><div class='indent'><code class='escaped'>session_save_path('/home/someuser/tmp/sessions');</code> # unix-type OS
</div><div class='indent'><code class='escaped'>session_save_path('C:/server/tmp/sessions');</code> # Windows
</div><p class='vspace'><a name='multiplepwprompts' id='multiplepwprompts'></a>
</p><p class='question'>Q Why is PmWiki prompting me multiple times for a password I&rsquo;ve already entered?</p>
<p class='vspace'> This could happen like out of nowhere if your hosting provider upgrades to PHP version 5.3, and you run an older PmWiki release. Recent PmWiki releases fix this problem.
</p>
<p class='vspace'> Alternatively, this may be an indication that the browser isn&rsquo;t accepting cookies, or that PHP&rsquo;s session handling functions on the server aren&rsquo;t properly configured.  If the browser is accepting cookies, then try setting <a class='varlink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/DebugVariables#EnableDiag'><code class='varlink'>&#036;EnableDiag</code></a>=1; in <em>local/config.php</em>, run PmWiki using <code class='escaped'>?action=phpinfo</code>, and verify that sessions are enabled and that the session.save_path has a reasonable value.  Note that several versions of PHP under Windows require that a session_save_path be explicitly set (this can be done in the <em>local/config.php</em> file).  You might also try setting session.auto_start to 1 in your php.ini.
</p>
<p class='vspace'> See also the question <a href='#configphp-order'>I have to log in twice</a> below.
</p>
<p class='vspace question'>Q I edited <em>config.php</em>, but when I look at my wiki pages, all I see is &ldquo;<code>Parse error: parse error, unexpected T_VARIABLE in <em>somefile</em> on line <em>number</em>.</code>&rdquo;</p>
<p class='vspace'> You&rsquo;ve made a mistake in writing the PHP that goes into the <em>config.php</em> file. The most common mistake that causes the T_VARIABLE error is forgetting the semi-colon (;) at the end of a line that you added. The line number and file named are where you should look for the mistake.
</p>
<p class='vspace question'>Q Searches and pagelists stopped working after I upgraded &mdash; no errors are reported, but links to other pages do not appear (or do not appear as they should) &mdash; what gives?</p>
<p class='vspace'> Be sure all of the files in the <em>wikilib.d/</em> directory
were also upgraded.  In particular, it sounds as if the Site.PageListTemplates page is either missing (if no links are displayed) or is an old version (if the links do not appear as they should). Also make sure that read-permissions (attr) are set for the pages Site.PageListTemplates and Site.Search.
</p>
<p class='vspace'><a name='mod_security' id='mod_security'></a>
</p><p class='question'>Q Some of my posts are coming back with &ldquo;403 Forbidden&rdquo; or &ldquo;406 Not Acceptable&rdquo; errors, or &ldquo;Internal Server Error&rdquo;.  This happens with some posts but not others.</p>
<p class='vspace'> Your webserver probably has <a class='urllink' href='http://modsecurity.org' rel='nofollow'>mod_security</a> enabled.  The mod_security &ldquo;feature&rdquo; scans all incoming posts for forbidden words or phrases that might indicate someone is trying to hack the system, and if any of them are present then Apache returns the 403 Forbidden or 406 Not Acceptable error.  Common phrases that tend to trigger mod_security include &ldquo;curl &ldquo;, &ldquo;wget&rdquo;, &ldquo;file(&ldquo;, and &ldquo;system(&ldquo;, although there are many others (depending on the configuration, percent signs, html tags, international characters).
</p>
<p class='vspace'>Since mod_security intercepts the requests and sends the &ldquo;forbidden&rdquo;
message before PmWiki ever gets a chance to run, it&rsquo;s not a bug in PmWiki, and
there&rsquo;s little that PmWiki can do about it.  Instead, one has to alter the
webserver configuration to disable mod_security or reconfigure it to allow
whatever word it is forbidding.  Some sites may be able to disable mod_security
by placing <code class='escaped'>SecFilterEngine off</code> in a <em>.htaccess</em> file.
</p>
<p class='vspace question'>Q I get the following message when attempting to upload an image, what do I do?</p>
<p><span style='font-size:83%'><code><strong>Warning</strong>: move_uploaded_file(): SAFE MODE Restriction in effect. The script whose uid is 1929 is not allowed to access /home/onscolre/public_html/pmwikiuploads/Photos owned by uid 33 in <strong>/home/onscolre/public_html/pmwiki/scripts/upload.php</strong> on line <strong>198</strong></code></span>
</p>
<p class='vspace'><code><strong>PmWiki can&rsquo;t process your request</strong></code>
</p>
<p class='vspace'><span style='font-size:83%'><code>?cannot move uploaded file to /home/onscolre/public_html/pmwikiuploads/Photos/FoundationPupilsIn1958.jpeg</code></span>
</p>
<p class='vspace'><span style='font-size:83%'><code>We are sorry for any inconvenience.</code></span>
</p>
<p class='vspace'> Your server is configured with PHP <a class='urllink' href='http://php.net/manual/en/features.safe-mode.php' rel='nofollow'>Safe Mode</a> enabled.  Configure your wiki to use a <a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/UploadsAdmin#sitewideprefix' title="For site-wide uploads, use">site-wide uploads prefix</a>, then create the <em>uploads/</em> directory manually and set 777 permissions on it (rather than letting PmWiki create the directory).
</p>
<p class='vspace'><a name='TableRowIndexMax' id='TableRowIndexMax'></a> <a name='divisionbyzero' id='divisionbyzero'></a>
</p><p class='question'>Q I&rsquo;m starting to see &ldquo;Division by zero error in pmwiki.php&hellip;&rdquo; on my site.  What&rsquo;s wrong?</p>
<p class='vspace'> It&rsquo;s a bug in PmWiki that occurs only with the <a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/Tables'>tables</a> markup and only for versions of PHP &ge; 4.4.6 or &ge; 5.2.0.  Often it seems to occur &ldquo;out of nowhere&rdquo; because the server administrator has upgraded PHP.  Try <a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/Upgrades'>upgrading</a> to a later version of PmWiki to remove the error, or try setting the following in <em>local/config.php</em>:
</p>
<div class='vspace'></div><pre>   <a class='varlink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/LayoutVariables#TableRowIndexMax'><code class='varlink'>&#036;TableRowIndexMax</code></a> = 1;
</pre><p class='vspace'><a name='configphp-order' id='configphp-order'></a>
</p><p class='question'>Q I have to log in twice <span style='font-size:83%'>(two times) (2 times)</span>.  -or- My password is not being required even though it should.  -or- I changed the password but the old password is still active. -or- My config.php password is not over-riding my farmconfig.php password.</p>
<p> It could happen if (farm)config.php, or an included recipe, directly calls the functions CondAuth(), or RetrieveAuthPage(), PageTextVar(), PageVar() and possibly others, before defining all passwords and before including AuthUser (if required).  
</p>
<p class='vspace'>The <a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/LocalCustomizations#configphp-order' title=" ">order of config.php</a> is very significant.
</p>
<p class='vspace'><a name='CrashWhenEditing' id='CrashWhenEditing'></a>
</p><p class='question'>Q When editing an existing page, The &ldquo;Save&rdquo; causes a no-response of your server (not a blank page, no response at all, an endless connexion try). To get back the hand, it is necessary to request for another page (by clicking on its link in the menu for instance). And horror!, the &hellip;?action=edit is then inhibited, it becomes impossible to edit any page.</p>
<p> When the editing of a page is initiated a file names <code class='escaped'>.flock</code> is created in the <code class='escaped'>wiki.d</code> repository. As long as this file exists it is impossible to edit any page. This file denotes an edition in progress and is automatically destroyed when leaving successfully an edit action by &ldquo;Save&rdquo;. In case of a crash of the editing, this file is not destroyed. The remedy is, with an FTP client parameterized to show hidden files, to remove the <code class='escaped'>.flock</code> file. And all get back OK. This behavior is typically caused by a bug which provokes (directly or indirectly), an endless loop in a recipe concerned by the edited page.
</p>
<p class='vspace question'>Q I get the error &ldquo;Data Mismatch - Locking FAILED!&rdquo;</p>
<p> This is probably not a PmWiki error. PmWiki cannot create a lock file due to an underlying file system problem.
For example the disk quota has been exceeded (e.g. by an error log file or file uploads), or there are problems with file system permissions.
 
</p></div><div style='clear:right; float:right; font-size:smaller; background-color:#eee;' >
<p><span class='wikitrail'>&larr; <a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/FAQ'>Frequently answered questions</a> | <a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/DocumentationIndex#trailstart' title="trailstart#trailend">Documentation Index</a> | <a class='wikilink' href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/AvailableActions'>Available actions</a> &rarr;</span> 
</p></div>
<p><a name='trailend' id='trailend'></a>
<br clear='all' />
</p><div  style='background-color: #ffe; border-top: 1px solid black; font-size: .8em;' > 
<p>This page may have <span class='commentout-pmwikiorg'> a more recent version on <a class='urllink' href='http://www.pmwiki.org' rel='nofollow'>pmwiki.org</a>: <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/Troubleshooting' rel='nofollow'>PmWiki:Troubleshooting</a>, and </span> a talk page: <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/Troubleshooting-Talk' rel='nofollow'>PmWiki:Troubleshooting-Talk</a>.
</p></div>
</div>

      </td>
    </tr></table>
<!--PageFooterFmt-->
  <div id='wikifoot'>
    <div class='footnav'>
      <a rel="nofollow" href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/Troubleshooting?action=edit'>Edit</a> -
      <a rel="nofollow" href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/Troubleshooting?action=diff'>History</a> -
      <a rel="nofollow" href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/Troubleshooting?action=print' target='_blank'>Print</a> -
      <a href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/PmWiki/RecentChanges'>Recent Changes</a> -
      <a href='https://lipn.univ-paris13.fr/~monteil/hebergement/wiki_calin/pmwiki/index.php/Site/Search'>Search</a></div>
    <div class='lastmod'>Page last modified on January 10, 2018, at 09:21 AM EST</div></div>
<!--HTMLFooter-->
</body>
</html>
